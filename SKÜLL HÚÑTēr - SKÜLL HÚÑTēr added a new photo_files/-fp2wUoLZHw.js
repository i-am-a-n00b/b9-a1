;/*FB_PKG_DELIM*/

__d("LoggedOutLoginSignupBarTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsPrimaryCtaReg=function(a){this.$1.is_primary_cta_reg=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};return a}();c={event:!0,is_primary_cta_reg:!0,surface:!0};f["default"]=a}),66);
__d("MPopupSmallCta",["LoggedOutLoginSignupBarTypedLogger","MAnimator","MEvent","MViewport","Run","Style","clearTimeout","ge","setInterval"],(function(a,b,c,d,e,f){"use strict";var g=150,h=1e3,i=214;a={show:function(a,c,d,e){this._expandingCta=a,this._ctaUnit=c,this._closeIcon=d,this._ctaVisible=!1,this._ctaShownOnce=!1,this._ctaClosed=!1,this._referrerSurface=e,b("Run").onAfterLoad(this._init.bind(this))},_init:function(){var a=this,c,d=(c=b("ge"))("header"),e=c("header-notices"),f=c("mobile_login_bar");c=c("account_switcher_footer");this._scrollThreshold=0;this._height=i;if(d){b("Style").set(d,"z-index","0");d=d.clientHeight;d&&(this._scrollThreshold+=d)}if(e){b("Style").set(e,"z-index","0");d=e.clientHeight;d&&(this._scrollThreshold+=d)}if(f){e=f.clientHeight;e&&(this._scrollThreshold+=e,this._height=e)}if(c){d=c.clientHeight;d&&(this._scrollThreshold+=d,this._height=d)}b("setInterval")(this._updateCTA.bind(this),h);b("MEvent").listen(this._closeIcon,"click",function(){a._ctaClosed=!0,a._hideCTA()})},_hideCTA:function(){var a=this,c=this._expandingCta.clientHeight;b("MAnimator").play(c,0,g,function(c){return b("Style").set(a._expandingCta,"height",Math.round(c)+"px")});this._ctaVisible=!1;b("clearTimeout")(this._timerId)},_showCTA:function(){var a=this;if(this._ctaVisible)return;new(b("LoggedOutLoginSignupBarTypedLogger"))().setEvent("login_signup_bar_load").setSurface(this._referrerSurface).log();b("Style").set(this._ctaUnit,"margin-top","0px");b("Style").set(this._expandingCta,"background","none");b("MAnimator").play(0,this._height,g,function(c){return b("Style").set(a._expandingCta,"height",Math.round(c)+"px")});this._ctaVisible=!0;this._ctaShownOnce=!0;b("clearTimeout")(this._timerId)},_updateCTA:function(){var a=b("MViewport").getHeight();if(a<this._height)if(this._ctaVisible)this._hideCTA();else return;a=this._scrollThreshold;!this._ctaVisible&&!this._ctaClosed&&b("MViewport").getScrollTop()>a&&this._showCTA();this._ctaVisible&&b("MViewport").getScrollTop()<a&&this._hideCTA()}};e.exports=a}),null);
__d("MTimelineCTRLogger",["BanzaiLogger","MLegacyDataStore","Stratcom"],(function(a,b,c,d,e,f,g){var h="timeline-ctr-logger";c("Stratcom").listen("click",h,function(a){a=d("MLegacyDataStore").get(a.getNode(h));c("BanzaiLogger").log(a.config,a.data)});a={};g["default"]=a}),98);
__d("MCommentActionsFlyout",["cx","Bootloader","MActionBubbleHelper","MCSS","MDOM","MLegacyDataStore","MModalDialog","MParent","MRequest","Stratcom","URI"],(function(a,b,c,d,e,f,g,h){var i,j="ban_user_from_page_comment_sigil",k="editCommentSigil",l="editHistoryCommentSigil",m="deleteCommentSigil",n="deleteCommentAndBlockAuthorSigil",o="deleteCommentAndRemoveAuthorSigil",p="hideCommentSigil",q="muteMemberSigil",r="reportCommentSigil",s="commentFlyoutSigil",t="removeTagSigil",u=!1;function v(a,b,c){a=d("MDOM").find(a,"*",b);d("MActionBubbleHelper").toggleActionBubbleItem(a,c,"MCommentActionsFlyout",b)}function w(a,b,e){var f=d("MDOM").find(a,"*",b),g=!!e.groupMuteCommenterInfo;d("MActionBubbleHelper").toggleActionBubbleItem(f,g,"MCommentActionsFlyout",b);if(g&&b===q){f=d("MDOM").scry(a,"*",b)[0];c("MCSS").conditionClass(f,"_4ob2",!e.groupMuteCommenterInfo.is_commenter_muted)}}function x(a){a=d("MParent").bySigil(a,"comment-metadata");return a}function y(a,b){b=d("MLegacyDataStore").get(b);a.addQueryData("_ft_",b.linkdata)}function z(a,b){y(b,a);a=new(c("MRequest"))(b);a.send()}function A(a,b,c){d("MModalDialog").open(b,c)}function B(){var a=x(this.getCausalElement()),b=this.getRoot();if(a==null)return;a=d("MLegacyDataStore").get(a);v(b,k,!!a.editCommentURI);v(b,l,!!a.editHistoryCommentURI);v(b,m,!!a.deleteCommentURI);v(b,n,!!a.deleteCommentAndBlockAuthorURI);v(b,o,!!a.deleteCommentAndRemoveAuthorURI);v(b,p,!!a.hideCommentURI);w(b,q,a);v(b,r,!!a.reportCommentURI);v(b,j,!!a.banUserFromPageURIParams&&!u);v(b,t,!!a.removeTagURI&&C())}function C(){return!1}function D(a){var b=d("MLegacyDataStore").get(a.getNode(s)),e=x(b.layer.getCausalElement());if(e==null)return;var f=d("MLegacyDataStore").get(e);if(a.getNode(k))z(e,new(i||(i=c("URI")))(f.editCommentURI));else if(a.getNode(l))z(e,new(i||(i=c("URI")))(f.editHistoryCommentURI));else if(a.getNode(m))z(e,new(i||(i=c("URI")))(f.deleteCommentURI));else if(a.getNode(n))z(e,new(i||(i=c("URI")))(f.deleteCommentAndBlockAuthorURI));else if(a.getNode(o))z(e,new(i||(i=c("URI")))(f.deleteCommentAndRemoveAuthorURI));else if(a.getNode(t))z(e,new(i||(i=c("URI")))(f.removeTagURI));else if(a.getNode(p))z(e,new(i||(i=c("URI")))(f.hideCommentURI));else if(a.getNode(q))z(e,new(i||(i=c("URI")))(f.groupMuteCommenterInfo.URI));else if(a.getNode(r)){var g=new(i||(i=c("URI")))(f.reportCommentURI);f.reportIsModalDialog?A(e,g):z(e,g)}else a.getNode(j)&&(f.banUserFromPageURIParams&&c("Bootloader").loadModules(["MPagesBanUserUtils"],function(a){a.banUserFromPage(f.banUserFromPageURIParams.pageID,f.banUserFromPageURIParams.userID,f.banUserFromPageURIParams.userName,function(){u=!0})},"MCommentActionsFlyout"));b.layer.hide();a.kill()}var E,F;function a(a){if(E)return;E=a;var b=a.getRoot();c("Stratcom").addSigil(b,s);F=[c("Stratcom").listen("m:page:unload",null,function(){while(F.length>0)F.pop().remove();E=null}),a.addListener("beforeshow",B,a),d("MDOM").listen(b,"click",null,D)]}g.registerFlyout=a}),98);
__d("XLiveCommentRenderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mobile/live_comment/render/",{})}),null);
__d("MUFILiveComments",["cx","Bootloader","MDOM","MLiveData","MParent","MRequest","MUFIReactionsUtils","Stratcom","SubscriptionsHandler","XLiveCommentRenderController"],(function(a,b,c,d,e,f,g,h){"use strict";var i="feed-ufi-comments",j="m-ufi";a=function(){function a(a,b){var e=this;this.onNewComment=function(a){a=a.getData();var b=a.feedbackTargetID,f=a.commentToken;if(b!==e.feedbackTargetID)return;var g=e.feedbackTarget.getData();if(!e.fetchedComments[f]){a=c("XLiveCommentRenderController").getURIBuilder().getURI();a=new(c("MRequest"))(a);a.setData({comment_token:f,dom_append_id:e.rootElement.id});a.listen("postprocess",function(){var a=g.comments||[];a.push(f);d("MLiveData").update(b,{comments:a});e.updateActivityUI(g.logging_interaction_key)});a.send();e.fetchedComments[f]=!0}};this.onUnload=function(){e.handler.release(),e.liveTypersCount=null};this.rootElement=a;this.activityElement=d("MDOM").create("div",{className:"_623b"});this.rootElement.parentNode&&this.rootElement.parentNode.insertBefore(this.activityElement,this.rootElement.nextSibling);this.fetchedComments={};this.feedbackTargetID=b;this.feedbackTarget=d("MLiveData").get(this.feedbackTargetID);this.liveTypersCount=null;this.handler=new(c("SubscriptionsHandler"))();this.handler.addSubscriptions(c("Stratcom").listen("m:ufi:live-comments:new-comment",null,this.onNewComment.bind(this)),c("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)));this.getIsCommentFlyout()||this.initTypingIndicatorSubscription()}var b=a.prototype;b.initTypingIndicatorSubscription=function(){var a=this;c("Bootloader").loadModules(["MUFICommentTypingSubscriptionController"],function(b){b=new b(a.feedbackTargetID,function(b){a.liveTypersCount=b,a.updateActivityUI()});b.didSubscribe()&&a.handler.addSubscriptions(b)},"MUFILiveComments")};b.getIsCommentFlyout=function(){return!!d("MParent").bySigil(this.rootElement,i)};b.getCommentElement=function(a){a=d("MUFIReactionsUtils").maybeConvertTokenToFBID(a);return a?document.getElementById(a):null};b.updateActivityUI=function(a){var b=this;c("Bootloader").loadModules(["MReactComponentRenderer","MUFILiveCommentActivity.react"],function(e,f){var g=b.feedbackTarget.getData();e(f,b.activityElement,{comments:g.comments||[],feedbackTargetID:b.feedbackTargetID,isAnyLiveTyping:b.liveTypersCount&&b.liveTypersCount>0,disablePill:b.getIsCommentFlyout()});e=g.logging_interaction_key;f=e?[e]:[];a&&a!==e&&f.push(a);c("Stratcom").invoke("m:ufi:live-comments:render",null,{ufi:d("MParent").bySigil(b.rootElement,j),logKeys:f})},"MUFILiveComments")};return a}();g["default"]=a}),98);
__d("MUFISocialSentence",["cx","fbt","Bootloader","MCSS","MDOM","MLiveData","Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){a=function(){"use strict";function a(a,c,d,e,f,g){if(!g&&!d)return;this.$1=a;this.$2=b("MLiveData").get(c);this.$3=e;this.$4=f;this.$5=g;this.$6=d;this.$7=new(b("SubscriptionsHandler"))();this.$7.addSubscriptions(this.$2.listen("change",this.onChange.bind(this)),b("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)))}var c=a.prototype;c.onChange=function(){var a=this,c=this.$2.getData();if(c.request_id===this.$4)return;b("MCSS").removeClass(this.$1,"like_opt");var d=this.$5&&c.like_count?c[this.$3][0]:null,e=this.$6&&c.comment_count?c.comment_count:null;if(d&&d.text){this.$8={text:d,ftid:c.ft_ent_identifier};d=d.text;this.$6||b("Bootloader").loadModules(["MReactComponentRenderer","MUFISocialSentenceTextWithEntities.react"],function(b,c){b(c,a.$1,a.$8)},"MUFISocialSentence");return}if(d){var f=this.$3!=="like_counts"&&!c.like_fallback&&e?"div":"span";d=b("MDOM").create(f,null,d);b("MCSS").addClass(d,"_28wy")}e&&(e=e>1?h._({"*":"{count} comments"},[h._param("count",e,[0])]):h._({"*":"{count} comment"},[h._param("count",e,[0])]),e=b("MDOM").create("span",{},e),b("MCSS").addClass(e,"_28wy"));b("MDOM").setContent(this.$1,[d,e]);this.$9(c)};c.$9=function(a){var c=this.$5&&(a.like_count||a.reactioncount);a=this.$6&&a.comment_count;b("MCSS").conditionShow(this.$1,!!(c||a))};c.onUnload=function(){this.$7.release(),this.$7=null};return a}();e.exports=a}),null);
__d("MActionBubbleLayout",["cx","MCSS"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=null,this.$2=a}var c=a.prototype;c.enable=function(){this.$1=this.$2.addListener("adjustDimensions",this.$3.bind(this)),this.$2.isShown()&&this.$2.updatePosition()};c.disable=function(){this.$1.remove(),this.$1=null,this.$2.isShown()&&this.$2.updatePosition()};c.$3=function(){var a=this.$2;this.$4(!0);var b=this.$2.getContentRoot();b.clientWidth>=a.getMaxWidth()&&this.$4(!1)};c.$4=function(a){var c=this.$2;c.setWidth(a?"auto":"wide");c.applyWidth();b("MCSS").conditionClass(c.getRoot(),"_55i0",a)};return a}();e.exports=a}),null);